# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é HDL –∫–ª–∞—Å—Å–æ–≤

## üìå –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

–í—Å–µ –∫–ª–∞—Å—Å—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –≤—Ö–æ–¥—ã –≤ –¥–≤—É—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
- **–°—Ç—Ä–æ–∫–∞**: `'–∏–º—è-–∑–Ω–∞—á–µ–Ω–∏–µ'` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `'a-1'`, `'sel-0'`)
- **–ö–æ—Ä—Ç–µ–∂/—Å–ø–∏—Å–æ–∫**: `('–∏–º—è', –∑–Ω–∞—á–µ–Ω–∏–µ)` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `('a', 1)`, `('sel', 0)`)

–í—Å–µ –∫–ª–∞—Å—Å—ã –∏–º–µ—é—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞:
- `.evaluate()` - –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `.hdl(out_name)` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HDL –∫–æ–¥ (out_name –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)

---

## üîß –ë–∞–∑–æ–≤—ã–µ –≤–µ–Ω—Ç–∏–ª–∏

### Not (–ù–ï)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
not_gate = Not('a-1')
# –∏–ª–∏
not_gate = Not(('a', 1))

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = not_gate.evaluate()  # –í–µ—Ä–Ω–µ—Ç 0
hdl_code = not_gate.hdl('output')  # HDL —Å –≤—ã—Ö–æ–¥–æ–º 'output'
hdl_code = not_gate.hdl()  # HDL —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–º–µ–Ω–µ–º –≤—ã—Ö–æ–¥–∞
```

### And (–ò)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
and_gate = And('a-1', 'b-0')
# –∏–ª–∏
and_gate = And(('a', 1), ('b', 0))

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = and_gate.evaluate()  # –í–µ—Ä–Ω–µ—Ç 0
hdl_code = and_gate.hdl('output')
```

### Or (–ò–õ–ò)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
or_gate = Or('a-1', 'b-0')

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = or_gate.evaluate()  # –í–µ—Ä–Ω–µ—Ç 1
hdl_code = or_gate.hdl('output')
```

### Xor (–ò—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
xor_gate = Xor('a-1', 'b-1')

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = xor_gate.evaluate()  # –í–µ—Ä–Ω–µ—Ç 0 (–æ–±–∞ 1)
hdl_code = xor_gate.hdl('output')
```

---

## üîÄ –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã –∏ –¥–µ–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä—ã

### Mux (–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä 2-–≤-1)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ (a, b, sel)
mux = Mux('a-1', 'b-0', 'sel-1')
# sel=0 ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç a
# sel=1 ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç b

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = mux.evaluate()  # –í–µ—Ä–Ω–µ—Ç 0 (–≤—ã–±—Ä–∞–Ω b)
hdl_code = mux.hdl('output')
```

### DMux (–î–µ–º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä 1-–≤-2)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ (input, sel)
dmux = DMux('in-1', 'sel-0')
# sel=0 ‚Üí –≤—Ö–æ–¥ –∏–¥–µ—Ç –Ω–∞ –≤—ã—Ö–æ–¥ a
# sel=1 ‚Üí –≤—Ö–æ–¥ –∏–¥–µ—Ç –Ω–∞ –≤—ã—Ö–æ–¥ b

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
a, b = dmux.evaluate()  # –í–µ—Ä–Ω–µ—Ç (1, 0)
hdl_code = dmux.hdl('out_a', 'out_b')  # –£–∫–∞–∑—ã–≤–∞–µ–º –æ–±–∞ –≤—ã—Ö–æ–¥–∞
hdl_code = dmux.hdl()  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–µ–Ω–∞
```

---

## üì¶ –ú–Ω–æ–≥–æ–±–∏—Ç–Ω—ã–µ –≤–µ–Ω—Ç–∏–ª–∏ (16-–±–∏—Ç)

### Not16
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
not16 = Not16(['a', [1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]])
#              –∏–º—è   —Å–ø–∏—Å–æ–∫ –∏–∑ 16 –∑–Ω–∞—á–µ–Ω–∏–π (0 –∏–ª–∏ 1)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = not16.evaluate()  # –í–µ—Ä–Ω–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ 16 –∑–Ω–∞—á–µ–Ω–∏–π
hdl_code = not16.hdl('output')
```

### And16
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
and16 = And16(
    ['a', [1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0]],
    ['b', [1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]]
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = and16.evaluate()  # –í–µ—Ä–Ω–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ 16 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
hdl_code = and16.hdl('output')
```

### Or16
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
or16 = Or16(
    ['a', [1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0]],
    ['b', [1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]]
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = or16.evaluate()
hdl_code = or16.hdl('output')
```

---

## üå≥ –ú–Ω–æ–≥–æ–≤—Ö–æ–¥–æ–≤—ã–µ OR –≤–µ–Ω—Ç–∏–ª–∏

### Or8Way (8 –≤—Ö–æ–¥–æ–≤ ‚Üí 1 –≤—ã—Ö–æ–¥)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
or8 = Or8Way(['in', [0,0,0,1,0,0,0,0]])
#             –∏–º—è   —Å–ø–∏—Å–æ–∫ –∏–∑ 8 –∑–Ω–∞—á–µ–Ω–∏–π

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = or8.evaluate()  # –í–µ—Ä–Ω–µ—Ç 1 (–µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ 1)
hdl_code = or8.hdl('output')
```

### Or16Way (16 –≤—Ö–æ–¥–æ–≤ ‚Üí 1 –≤—ã—Ö–æ–¥)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
or16way = Or16Way(['in', [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]])
#                  –∏–º—è   —Å–ø–∏—Å–æ–∫ –∏–∑ 16 –∑–Ω–∞—á–µ–Ω–∏–π

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = or16way.evaluate()  # –í–µ—Ä–Ω–µ—Ç 1
hdl_code = or16way.hdl('output')
```

---

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä HDL

### HDLOptimizer (—É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è NAND)
```python
# –°–æ–∑–¥–∞–Ω–∏–µ
optimizer = HDLOptimizer(hdl_code_string)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
optimized_code, statistics = optimizer.optimize()

# optimized_code - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HDL –∫–æ–¥
# statistics - —Å—Ç—Ä–æ–∫–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (—Å–∫–æ–ª—å–∫–æ —É–¥–∞–ª–µ–Ω–æ)
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã
```python
# 1. –°–æ–∑–¥–∞–µ–º –≤–µ–Ω—Ç–∏–ª—å
mux = Mux('a-1', 'b-0', 'sel-1')

# 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HDL
hdl_code = mux.hdl('result')

# 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º
optimizer = HDLOptimizer(hdl_code)
optimized, stats = optimizer.optimize()

# 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: {mux.evaluate()}")
print(f"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: {stats}")
print(f"–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:\n{optimized}")
```

### –†–∞–±–æ—Ç–∞ —Å –º–Ω–æ–≥–æ–±–∏—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```python
# –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º 16-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ
input_bits = [1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0]
not16 = Not16(['data', input_bits])
result = not16.evaluate()
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")

# AND –¥–≤—É—Ö 16-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–µ–ª
bits_a = [1] * 16  # –í—Å–µ –µ–¥–∏–Ω–∏—Ü—ã
bits_b = [1,0] * 8  # –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ 1 –∏ 0
and16 = And16(['a', bits_a], ['b', bits_b])
result = and16.evaluate()
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
```python
from itertools import product

# –¢–µ—Å—Ç–∏—Ä—É–µ–º XOR –Ω–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–∞—Ö
print("–¢–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏ XOR:")
for a, b in product([0, 1], repeat=2):
    xor = Xor(('a', a), ('b', b))
    print(f"XOR({a}, {b}) = {xor.evaluate()}")
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ó–Ω–∞—á–µ–Ω–∏—è**: –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 0 –∏–ª–∏ 1 (–Ω–µ True/False)
2. **–°–ø–∏—Å–∫–∏**: –¥–ª—è –º–Ω–æ–≥–æ–±–∏—Ç–Ω—ã—Ö –≤–µ–Ω—Ç–∏–ª–µ–π –¥–ª–∏–Ω–∞ —Å–ø–∏—Å–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç–∏
3. **–ò–º–µ–Ω–∞ –≤—ã—Ö–æ–¥–æ–≤**: –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å, –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **DMux**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä**: —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å HDL –∫–æ–¥–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º NAND –≤–µ–Ω—Ç–∏–ª–∏

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

| –ö–ª–∞—Å—Å | –í—Ö–æ–¥—ã | –í—ã—Ö–æ–¥ | –ü—Ä–∏–º–µ—Ä |
|-------|-------|-------|--------|
| Not | 1 | 1 | `Not('a-1')` |
| And | 2 | 1 | `And('a-1', 'b-0')` |
| Or | 2 | 1 | `Or('a-1', 'b-0')` |
| Xor | 2 | 1 | `Xor('a-1', 'b-0')` |
| Mux | 3 (a,b,sel) | 1 | `Mux('a-1', 'b-0', 'sel-1')` |
| DMux | 2 (in,sel) | 2 (a,b) | `DMux('in-1', 'sel-0')` |
| Not16 | 1√ó16 | 1√ó16 | `Not16(['a', [1,0,...]])` |
| And16 | 2√ó16 | 1√ó16 | `And16(['a',[...]], ['b',[...]])` |
| Or16 | 2√ó16 | 1√ó16 | `Or16(['a',[...]], ['b',[...]])` |
| Or8Way | 1√ó8 | 1 | `Or8Way(['in', [0,1,...]])` |
| Or16Way | 1√ó16 | 1 | `Or16Way(['in', [0,1,...]])` |
